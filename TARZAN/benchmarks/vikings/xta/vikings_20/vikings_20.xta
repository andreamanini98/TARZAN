chan take, release;

int L;


process Viking00() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking01() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking02() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking03() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking04() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking05() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking06() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking07() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking08() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking09() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking10() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking11() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking12() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking13() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking14() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking15() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking16() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking17() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking18() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Viking19() {
  clock y;
  state L0, safe, L1, unsafe;
  init unsafe;
  trans
    L1 -> unsafe { guard y >= 20; sync release!; },
    safe -> L1 { guard L == 1; sync take!; assign y = 0; },
    L0 -> safe { guard y >= 20; sync release!; },
    unsafe -> L0 { guard L == 0; sync take!; assign y = 0; };
}


process Torch() {

state
    one,
    L0,
    free,
    two;
urgent
    L0;
init
    free;
trans
    free -> L0 { sync take?; },
    L0 -> one { },
    L0 -> two { sync take?; },
    one -> free { sync release?; assign L = 1 - L; },
    two -> one { sync release?; };
}


system Viking00, Viking01, Viking02, Viking03, Viking04, Viking05, Viking06, Viking07, Viking08, Viking09, Viking10, Viking11, Viking12, Viking13, Viking14, Viking15, Viking16, Viking17, Viking18, Viking19, Torch;